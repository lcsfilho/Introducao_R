<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Presentation Ninja</title>
    <meta charset="utf-8" />
    <meta name="author" content="Yihui Xie" />
    <meta name="author" content="Garrick Aden-Buie" />
    <meta name="date" content="2022-12-06" />
    <script src="libs/header-attrs-2.18/header-attrs.js"></script>
    <link rel="stylesheet" href="Curso_R.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">

layout: true





&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/BrasaoGoverno.png?raw=true" style="left: 5px; top: 5px; position: absolute" width="7.5%" height="13%"&gt;

 
 &lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/UCS.PNG?raw=true" style="right: 20px; top: 5px; position: absolute" width="6%" height="14%"&gt;

 &lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/LinhaVertical.PNG?raw=true" style="right: 0px; top: 0px; position: absolute" width="1.5%" height="99.7%"&gt;
 
  &lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/LinhaHorizontal.PNG?raw=true" style="left: -1px; bottom: 0px; position: absolute" width="99.3%" height="2.5%"&gt;

---
class: center, middle

# Introdução ao Software R e ao R Markdown

Luiz Carlos Santana Filho
&lt;p style="font-size: 12px"&gt;
Diretoria de Planejamento Social&lt;/p&gt;
&lt;p style="font-size: 12px"&gt;Superintendência de Planejamento Estratégico&lt;/p&gt;
&lt;p style="font-size: 15px"&gt;Secretaria do Planejamento&lt;/p&gt;

&lt;p style="color: blue; font-size: 14px; margin: 5px"&gt;&lt;i&gt;luizcarlos.santanafilho@seplan.ba.gov.br&lt;/i&gt;&lt;/p&gt;

[https://github.com/lcsfilho](https://github.com/lcsfilho)


 &lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/FigR_RStudio_RMarkdown.png?raw=true" style="left: auto; right=auto; bottom:-100px; position: relative" width="40%" height="1.7%"&gt;

---
&lt;div class="titulo" position="Center"&gt;Introdução ao Software R e ao R Markdown&lt;/div&gt;


&lt;br&gt;

# Índice


-  Índice
-  O que é o `R`?
-  Definições
-  Iniciação
-  Dados no `R`
-  Importando dados no R
-  Referências


---

layout: true

&lt;div class="titulo" position="Center"&gt;Introdução ao Software R e ao R Markdown&lt;/div&gt;


&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/BrasaoGoverno.png?raw=true" style="left: 5px; top: 5px; position: absolute" width="7.5%" height="13%"&gt;

 
&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/UCS.PNG?raw=true" style="right: 20px; top: 5px; position: absolute" width="6%" height="14%"&gt;

&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/LinhaVertical.PNG?raw=true" style="right: 0px; top: 0px; position: absolute" width="1.5%" height="99.7%"&gt;
 
&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/LinhaHorizontal.PNG?raw=true" style="left: -1px; bottom: 0px; position: absolute" width="99.3%" height="2.5%"&gt;

---
&lt;center&gt;&lt;font size="6"&gt;Bibliografia básica&lt;/font&gt;&lt;/center&gt;

&lt;div class="container"&gt;


&lt;img src="https://images-submarino.b2w.io/produtos/134528441/imagens/livro-r-para-data-science-importe-arrume-transforme-visualize-e-modele-dados/134528441_1_large.jpg" style="left: auto; top: 25%; position: absolute" width="20%"&gt;


&lt;img src="http://www.cookbook-r.com/r_graphics_cookbook.png" style="left: 41%; top: 25%; position: absolute" width="18%"&gt;


&lt;img src="https://bookdown.org/yihui/rmarkdown-cookbook/images/cover.png" style="right: 10%; top: 25%; position: absolute" width="12.5%"&gt;


&lt;div class="bibliografia"&gt;

.pull-left[
&gt; [R para Data Science](https://www.amazon.com.br/para-data-science-transforme-visualize/dp/8550803243/ref=asc_df_8550803243/?tag=googleshopp00-20&amp;linkCode=df0&amp;hvadid=379736468109&amp;hvpos=&amp;hvnetw=g&amp;hvrand=4984106143229360944&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=1001533&amp;hvtargid=pla-811060137763&amp;psc=1)&lt;br&gt;
&gt; [R Graphics Cookbook](https://www.amazon.com.br/Graphics-Cookbook-2e-Winston-Chang/dp/1491978600/ref=asc_df_1491978600/?tag=googleshopp00-20&amp;linkCode=df0&amp;hvadid=379787555408&amp;hvpos=&amp;hvnetw=g&amp;hvrand=5700521040944184438&amp;hvpone=&amp;hvptwo=&amp;hvqmt=&amp;hvdev=c&amp;hvdvcmdl=&amp;hvlocint=&amp;hvlocphy=1001533&amp;hvtargid=pla-422014417858&amp;psc=1/)&lt;br&gt;
&gt; [R Markdown Cookbook (WEB)](https://bookdown.org/yihui/rmarkdown-cookbook/)&lt;br&gt;
&gt; [R Markdown Cookbook (PDF)](https://bookdown.org/yihui/rmarkdown-cookbook/rmarkdown-cookbook.pdf)&lt;br&gt;
&gt; [Ciência de Dados em R - Curso R](https://livro.curso-r.com/)

]

.pull-right[
&gt; [Cookbook for R](http://www.cookbook-r.com/)&lt;br&gt;
&gt; [Aprendendo R - Fiocruz](http://www.de.ufpb.br/~tatiene/Disciplinas/2014.2/LivroR/aprendendo_r.pdf)&lt;br&gt;
&gt; [An Introduction to R](https://cran.r-project.org/doc/manuals/R-intro.pdf)&lt;br&gt;
&gt; [Using R for Data Analysis and Graphics](https://cran.r-project.org/doc/contrib/usingR.pdf)&lt;br&gt;
&gt; [Visualização de dados com ggplot2](http://leg.ufpr.br/~walmes/cursoR/data-vis/slides/08-ggplot2.pdf)&lt;br&gt;

]


[Livros R gratuitos para download](https://producaoanimalcomr.wordpress.com/2015/12/15/livros-r-gratuitos-para-downloads/)


&lt;/div&gt;
&lt;/div&gt;
---
background-image: url(https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/R_logo.png?raw=true)
background-size: 45px
background-position: 50% 16%

# O que é o `R`?


- R é uma linguagem e um ambiente de desenvolvimento integrado, para cálculos estatísticos e gráficos.

- Foi criada originalmente por [_Ross Ihaka_](https://pt.wikipedia.org/w/index.php?title=Ross_Ihaka&amp;action=edit&amp;redlink=1) e por [_Robert Gentleman_](https://pt.wikipedia.org/w/index.php?title=Robert_Gentleman&amp;action=edit&amp;redlink=1) no departamento de Estatística da universidade de Auckland, Nova Zelândia, e foi desenvolvido por um esforço colaborativo de pessoas em vários locais do mundo.

- O nome R provêm em parte das iniciais dos criadores e também de um jogo figurado com a linguagem `S` (da Bell Laboratories, antiga AT&amp;T).

- R é uma linguagem e ambiente similar ao [S](https://pt.wikipedia.org/wiki/S_(linguagem_de_programa%C3%A7%C3%A3o) - pode ser considerado uma implementação distinta do S; embora com importantes diferenças, muitos códigos escritos para o S rodam inalterados no R. A implementação comercial de S é [S-PLUS](https://www.splus.iag.usp.br/).

- O código fonte do `R` está disponível sob a licença [GNU](https://www.gnu.org/) [GPL](https://pt.wikipedia.org/wiki/GNU_General_Public_License) e as versões binárias pré-compiladas são fornecidas para Windows, Macintosh, e muitos sistemas operacionais Unix/Linux.

- `R` é também altamente expansível com o uso dos pacotes, que são bibliotecas para funções específicas ou áreas de estudo específicas.

[Blog Software Livre na Educação](https://www.ufrgs.br/soft-livre-edu/software-educacional-livre-na-wikipedia/r-linguagem-de-programacao/)

---
&lt;div class="Ross_Ihaka"&gt;
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Ross_Ihaka_%285189180796%29.jpg/220px-Ross_Ihaka_%285189180796%29.jpg" style="left: 17%; top: 30%; position: absolute" width="35%" height="40%" &gt;
&lt;p&gt;Ross Ihaka&lt;/p&gt;
&lt;/div&gt;


&lt;div class="Robert_Gentleman"&gt;
&lt;img src="https://upload.wikimedia.org/wikipedia/commons/thumb/c/c6/Rober_Gentleman.png/220px-Rober_Gentleman.png" style="right: 16%; top: 30%; position: absolute"width="23%" height="40%" &gt;
&lt;p&gt;Robert Gentleman&lt;/p&gt;
&lt;/div&gt;

---
&lt;center&gt;
&lt;figure&gt;
&lt;img src="https://revolution-computing.typepad.com/.a/6a010534b1db25970b01b8d2594d25970c-800wi" style="left: 25%; top: 20%; position: absolute"width="50%"&gt;
&lt;figcaption&gt;Número de pacotes R publicados no Repositório CRAN&lt;/figcaption&gt;
&lt;/figure&gt;
&lt;/center&gt;

---
# Definições

* Objeto: `R` é uma linguagem orientada a objetos e tudo em R é um objeto. Trata-se de uma referência a um local da memória que possui um valor.
Por exemplo, um único número é um objeto, uma variável é um objeto, a saída é um objeto, um conjunto de dados é um objeto que é, por si próprio, uma coleção de objetos, etc.

* Vetor: Uma coleção de um ou mais objetos do mesmo tipo. Por exemplo, todos os números ou todos os caracteres.

* Função: Um conjunto de instruções realizadas em um ou mais objetos. Funções são normalmente utilizadas para executar tarefas específicas e comuns, que normalmente exigiriam muitas instruções.
Por exemplo, a função `mean()` (média) é usada para calcular a média aritmética dos valores de um vetor numérico.

* Argumento: Informação específica (na forma name = value) passada para uma função para determinar como ela deve desempenhar a sua tarefa. Por exemplo, a função `mean()` requer, pelo menos, um argumento - o nome de um objeto que contém os valores a partir dos quais a média será calculada.

* Operador: Um símbolo com significado pré-definido. Os operadores
comuns incluem +, −, ∗, /, ˆ, e os operadores lógicos
&lt;, &gt;, &lt;=, &gt;=, ==, !=, &amp;&amp;, ||.

&lt;a name=cite-andreluis&gt;&lt;/a&gt;[Maia (2016)](#bib-andreluis)

---
# Iniciação

&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/TelaR.PNG?raw=true" style="right: 3%; top: 35%; position: absolute"width="45%"&gt;


1. Acesse o endereço https://www.r-project.org e baixe o `R` por uma das URLs disponíveis (CRAN&lt;sup&gt;1&lt;/sup&gt; Mirrors)
1. Instale o software `R` (`R-Gui`)
1. Execute o software `R` (`R-Gui`)

.pull-left[
"O sistema é formado por um programa básico (`R-Gui`) e muitos pacotes com procedimento adicionais. Tudo é gratuito e com código livre, voltado para comunidade acadêmica."
&lt;a name=cite-lingR&gt;&lt;/a&gt;([INE/UFSC, 2013](#bib-lingR))

Ao executar, o software `R` abre o console com informações e avisos, seguidos pelo prompt de comando (&lt;font color="#F2A025"&gt; &gt; &lt;/font&gt;).
]

.footnote[
[1] [Comprehensive R Archive Network](https://cran.r-project.org/mirrors.html)
]

---
## Explorando o R

Operações básicas no R

&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/Operacoes_R.PNG?raw=true" style="right: auto; top: 35%; position: absolute"width="40%"&gt;
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
O símbolo &lt;font color="#F2A025"&gt; # &lt;/font&gt; é usado para comentário no R.



---
## Criando vetores

Criando uma sequência de números de 0 a 20:


```r
x = 0 : 20
x
##  [1]  0  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
```

Acessando o 6º elemento do vetor:


```r
x [6]
## [1] 5
```

Alterando dados:


```r
x [1] = 20
x
##  [1] 20  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
```
---
Há outra forma de criar vetores, utilizando a função `c()`.
Vamos gerar uma sequência numérica de 0 a 10.


```r

x = c(0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10)
x
##  [1]  0  1  2  3  4  5  6  7  8  9 10
```

Também podemos criar vetor de caracteres:


```r
y = c("A", "B", "C", "D", "E")
y
## [1] "A" "B" "C" "D" "E"
```

Criando uma matriz:

```r
matriz &lt;- matrix(c(1, 2, 3, 4), nrow = 2, ncol = 2)
matriz
##      [,1] [,2]
## [1,]    1    3
## [2,]    2    4
```
---
Para criar uma lista:



```r
list(2, 5, "A", TRUE, FALSE)
## [[1]]
## [1] 2
## 
## [[2]]
## [1] 5
## 
## [[3]]
## [1] "A"
## 
## [[4]]
## [1] TRUE
## 
## [[5]]
## [1] FALSE
```

Também podemos trabalhar com `data frames`, que são objetos semelhantes a uma matriz, mas as suas colunas têm nomes e podem conter tipos de dados diferentes.

---
## Gráficos

Para criar um gráfico, precisamos dos dados. Na seção anterior, criamos uma sequência numérica atribuída à variável `x`. Agora, criaremos a varável `y` para fazer par com a variável `x`.


```r
y = 5 + 2*x^2
plot(x,y)
```

&lt;img src="Curso-R_files/figure-html/unnamed-chunk-9-1.png" style="display: block; margin: auto;" /&gt;

---
background-image: url(https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/gif/matematica.gif?raw=true)
background-size: 35%
background-position: 85% 80%

## Estatísticas

.pull-left[
Funções isoladas:

```r
mean(x)      #Média
## [1] 5
median(x)    #Mediana
## [1] 5
quantile(x)  #Quartis
##   0%  25%  50%  75% 100% 
##  0.0  2.5  5.0  7.5 10.0
var(x)       #Variância
## [1] 11
sd(x)        #Desvio Padrão
## [1] 3.316625
min(x)       #Mínimo
## [1] 0
max(x)       #Máximo
## [1] 10
sum(x)       #Somatório
## [1] 55
```
]

.pull-right[
Função summary()

```r
summary(x)
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
##     0.0     2.5     5.0     5.0     7.5    10.0
```
]

---
## Pacotes (Bibliotecas)

- Um `pacote` é uma coleção de funções, dados e documetações, que ampliam as funcionalidades básicas do `R`.

- A instalação básica do `R` já contém vários pacotes.

- Há milhares de pacotes gratúitos para instalação, que não fazem parte da instalção básica do `R`.


Pacotes podem ser instalados e carregados pelas funções `install.packages()` e `library()`, respectivamente.

Exemplo: Vamos instalar e carregar um pacote de gráficos chamado `ggplot`.


```r
install.packages("ggplot2")
library(ggplot2)
```

Repare que o nome do pacote deve estar escrito entre aspas para a instalação, mas, para carregar, as aspas devem ser dispensadas.

Ao instalar um pacote, este deve ser carregado (`library()`) toda vez que o `R` for iniciado.

---
background-image: url(https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/Help.PNG?raw=true)
background-size: 41%
background-position: 50% 88%

## Help

Para obter ajuda sobre qualquer função, basta escrever no `console` o nome da função (ou do pacote) precedido de uma interrogação: `?ggplot`. A outra opção é `help(ggplot)`.

Também podemos acessar a área de Help do `R Studio` e escrever o nome da função no campo indicado na figura


---

background-image: url(https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/RStudio.jpg?raw=true)
background-size: 150px
background-position: 50% 16%

## R Studio

O [R Studio ](https://posit.co/) "é um software livre de ambiente de desenvolvimento integrado para `R`, uma linguagem de programação para gráficos e cálculos estatísticos."  &lt;a name=cite-RStudio&gt;&lt;/a&gt;([Wikipédia, 2017](https://pt.wikipedia.org/wiki/RStudio)). É uma interface para uso do `R` e deve ser instalado após a instalação do `R`. Sua instalação se dá pelo endereço https://posit.co/.

&lt;div style="float:left"&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;Scripts&lt;br&gt;
Funções&lt;br&gt;
&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;
Objetos&lt;br&gt;
Valores&lt;br&gt;
Funções ativas
&lt;/div&gt;


&lt;div style="float:right"&gt;Console&lt;br&gt;
Terminal&lt;br&gt;&lt;br&gt;&lt;br&gt;
  Background Jobs&lt;br&gt;&lt;br&gt;&lt;br&gt;
Files&lt;br&gt;
Plot&lt;br&gt;
Packages&lt;br&gt;&lt;br&gt;&lt;br&gt;
Help&lt;br&gt;
Viewer&lt;/div&gt;

&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/gif/seta-imagem-animada-0032.gif?raw=true" style="left: 15%; top: 60%; position: absolute"width="5%"&gt;


&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/gif/seta-imagem-animada-0032.gif?raw=true" style="left: 15%; top: 85%; position: absolute"width="5%"&gt;


&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/faa0293cb8164941fa87551756cf3ea421c867ef/Curso%20R/fig/telaRStudio.PNG?raw=true" style="left: 20%; top: 38%; position: absolute"width="60%"&gt;

&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/gif/seta-imagem-animada-0044.gif?raw=true" style="left: 80%; top: 50%; width=5%; position: absolute"&gt;


&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/gif/seta-imagem-animada-0044.gif?raw=true" style="left: 80%; top: 80%; width=5%; position: absolute"&gt;

---
background-image: url(https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/gif/giphy.gif?raw=true)
background-size: 35%
background-position: 90% 50%

## Vantagens do RStudio


- Highlight do código;

- Autocomplete;

- Match automático de parenteses e chaves;

- Interface intuitiva para objetos, gráficos e script;

- Criação de "projetos" com interface para controle de versão;

- Facilidade na criação de pacotes;

- Interação com HTML, entre outras.


[Análise Real - Economia: Teoria, Prática e Política](https://analisereal.com/2015/01/20/r-e-rstudio-2/)

---

background-image: url(https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/RCloud.PNG?raw=true)
background-size: 71%
background-position: 50% 92%

## R Studio Cloud

&lt;img src="https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/positCloud.svg?raw=true" style="left: 23%; top: 16%; position: absolute"width="20%"&gt;

Pode ser acessado a partir de qualquer computador ligado à internet; pode ser acessado pelo celular; todos os pacotes já estão instalados; possibilidade de compartilhar projetos; opção de usar gratuitamente, porém com limitações de memória e tempo de uso por mês.

---

background-image: url(https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/fig/TabelaDados.PNG?raw=true)
background-size: 25%
background-position: 50% 55%

# Dados no `R`

Vamos criar um conjunto de dados aleatório de 8 pessoas, com 4 variáveis: peso, altura, idade e renda. Perceba que a renda de uma pessoa não foi medida (dado _missing_).

&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;&lt;br&gt;


```r
#Criando os vetores de variáveis pela função c()
peso = c(55, 70, 76, 80, 62, 51, 68, 74)
idade = c(27, 40, 36, 60, 42, 24, 35, 39)
altura = c(1.60, 1.72, 1.65, 1.75, 1.55, 1.63, 1.72, 1.58)
renda = c(2000, 5000, 4000, 3000, 1500, NA, 7000, 4500)
```

---
## Dados no `R`

A depender da função a presença do `NA` pode causar problemas


```r
sum(renda)
## [1] NA
```


```r
mean(renda)
## [1] NA
```


```r
min(renda)
## [1] NA
```



```r
summary(renda)
##    Min. 1st Qu.  Median    Mean 3rd Qu.    Max.    NA's 
##    1500    2500    4000    3857    4750    7000       1
```
---
## Dados no `R`

Usamos a função `c()` (concatenar) para agrupar os dados, criando vetores separados. Agora, usaremos as funções `cbind` (&lt;u&gt;c&lt;/u&gt;olumn) e `rbind` (&lt;u&gt;r&lt;/u&gt;ow) para concatenar os vetores em linhas e colunas.

Podemos agrupar as 4 variáveis em colunas, da seguinte forma:


```r
dados_pessoas = cbind(peso, idade, altura, renda)
dados_pessoas
##      peso idade altura renda
## [1,]   55    27   1.60  2000
## [2,]   70    40   1.72  5000
## [3,]   76    36   1.65  4000
## [4,]   80    60   1.75  3000
## [5,]   62    42   1.55  1500
## [6,]   51    24   1.63    NA
## [7,]   68    35   1.72  7000
## [8,]   74    39   1.58  4500
```

---
## Dados no `R`

Podemos recuperar dados de colunas, linhas, dados individuais ou um conjunto de dados selecionados.

Acessando dados da 1ª coluna:

.pull-left[

```r
dados_pessoas[,1]
## [1] 55 70 76 80 62 51 68 74
```

Acessando dados da 3ª linha:

```r
dados_pessoas[3,]
##    peso   idade  altura   renda 
##   76.00   36.00    1.65 4000.00
```

Acessando dado da 2ª linha e 3ª coluna:

```r
dados_pessoas[2,3]
## altura 
##   1.72
```
]

.pull-right[
Acessando dados das linhas 2 a 4, na coluna 1:

```r
dados_pessoas[2:4,1]
## [1] 70 76 80
```

Acessando todos os dados das linhas 1, 2 e 4:

```r
dados_pessoas[c(1, 2, 4),]
##      peso idade altura renda
## [1,]   55    27   1.60  2000
## [2,]   70    40   1.72  5000
## [3,]   80    60   1.75  3000
```
]
---
## Dados no `R`
Função `matrix()`
.pull-left[
Criando matriz de dimensão 8 x 4:


```r
dados_pessoas.M = matrix(nrow = 8, ncol = 4)
dados_pessoas.M
```

```
##      [,1] [,2] [,3] [,4]
## [1,]   NA   NA   NA   NA
## [2,]   NA   NA   NA   NA
## [3,]   NA   NA   NA   NA
## [4,]   NA   NA   NA   NA
## [5,]   NA   NA   NA   NA
## [6,]   NA   NA   NA   NA
## [7,]   NA   NA   NA   NA
## [8,]   NA   NA   NA   NA
```
]


.pull-right[
Vamos alimentar a matriz com os dados das pessoas


```r
dados_pessoas.M[,1] = c(55, 70, 76, 80, 62, 51, 68, 74)
dados_pessoas.M[,2] = c(27, 40, 36, 60, 42, 24, 35, 39)
dados_pessoas.M[,3] = c(1.60, 1.72, 1.65, 1.75, 1.55, 1.63, 1.72, 1.58)
dados_pessoas.M[,4] = c(2000, 5000, 4000, 3000, 1500, NA, 7000, 4500)
dados_pessoas.M
```

```
##      [,1] [,2] [,3] [,4]
## [1,]   55   27 1.60 2000
## [2,]   70   40 1.72 5000
## [3,]   76   36 1.65 4000
## [4,]   80   60 1.75 3000
## [5,]   62   42 1.55 1500
## [6,]   51   24 1.63   NA
## [7,]   68   35 1.72 7000
## [8,]   74   39 1.58 4500
```

]
---
## Dados no `R`
Função `data.frame()`

O _Data Frame_ é uma estrutura semelhante à uma matriz, mas com cada coluna sendo tratada separadamente. Em um _Data Frame_, todos osa dados dentro da mesma coluna serão forçados a serem do mesmo tipo. Podemos ver o _Data Frame_ como uma "tabela" formada por um conjunto de dados, podendo ser de tipos diferentes entre as colunas, sendo que esses tipos podem ser variáveis numéricas, _strings_, nominais (fatores), datas etc.


```r
dados_pessoas.DF = data.frame(peso, idade, altura, renda)
dados_pessoas.DF
##   peso idade altura renda
## 1   55    27   1.60  2000
## 2   70    40   1.72  5000
## 3   76    36   1.65  4000
## 4   80    60   1.75  3000
## 5   62    42   1.55  1500
## 6   51    24   1.63    NA
## 7   68    35   1.72  7000
## 8   74    39   1.58  4500
```
---
class: center
background-image: url(https://github.com/lcsfilho/Introducao_R/blob/master/Curso%20R/gif/Exercitar1.gif?raw=true)
background-size: 30%
background-position: 50% 70%

&lt;font color="#256BC1", size="7", face="sans-serif"&gt; &lt;b&gt;Bora trabalhar!&lt;/b&gt; &lt;/font&gt;

---
# Importando dados no R
.pull-left[
Com o `R`, podemos importar dados de diversos formatos (_xls_, _xlsx_, _CSV_, _txt_, _SAS_, _SPSS_ etc). Devemos seguir os seguintes passos:
1. Saber o caminho do arquivo
1. Usar a função `setwd()` para alterar o diretório de trabalho
1. Instalar o  _tydeverse_, que é um pacote guarda-chuva (conjunto de pacotes) que auxilia no ciclo da ciência de dados (importar, arrumar, transformar, visualizar e modelar)

A sua pasta de trabalho pode ser encontrada com o comando:


```r
getwd()
## [1] "F:/Curso de R/Introducao_R/Curso R"
```

]

.pull-right[

Para definir a pasta de trabalho, por exemplo, use:




```r
setwd("C:/Documentos/Curso R")
```
Atenção: Atente para as barras invertidas ("/") no endereço do arquivo. Ao copiar e colar o endereço, as barras vêem inclinadas para esquerda ("C:\Documentos\Curso R").


Para instalar o `tidyverse`:


```r
install.packages("tidyverse")
```

Carregue o `tideverse`


```r
library(tidyverse)
```
]

---
## Importando dados no R


O `Tidyverse` agrega um conjunto de 30 pacotes. São eles:


```r
tidyverse::tidyverse_packages()
##  [1] "broom"         "cli"           "crayon"        "dbplyr"       
##  [5] "dplyr"         "dtplyr"        "forcats"       "ggplot2"      
##  [9] "googledrive"   "googlesheets4" "haven"         "hms"          
## [13] "httr"          "jsonlite"      "lubridate"     "magrittr"     
## [17] "modelr"        "pillar"        "purrr"         "readr"        
## [21] "readxl"        "reprex"        "rlang"         "rstudioapi"   
## [25] "rvest"         "stringr"       "tibble"        "tidyr"        
## [29] "xml2"          "tidyverse"
```

O pacote `readr` importa arquivos de texto, como `.txt` ou `.csv`.

Já o pacote `readxl` é utilizado para ler planilhas do Excel, basta utilizar a função `read_excel()`.

O pacote `haven` é usado para ler arquivos gerados por outros sotwares, como  `SPSS`, `SAS` e `STATA`.

&lt;a name=cite-CursoR&gt;&lt;/a&gt;[curso-r (2022)](https://livro.curso-r.com)

---
## Importando dados no R

Mas antes do `tideyverse`, vamos falar um pouco de alguns pacotes de leitura de dados já presentes na instalação básica do `R`. Um desses pacotes é o  `utils`, que possui recursos para leitura de diversos arquivos, inclusive aqueles que estão na internet.

Algumas de suas funções são: `read.table` e `read.csv`.

Por padrão, o `R` considera que os dados estão separados por tabulação e o separador de decimais é o ponto.

Se os dados estiverem separados por ":" e o separador decimal for ",", os argumentos `sep` e `dec` da função serão:


```r
read.table("dados.csv", head=TRUE, sep=":", dec=",")
```
ou

```r
read.csv("dados.csv", head=TRUE, sep=":", dec=",")
```

Ou podemo ler diretamente na internet

```r
read.table("https://raw.githubusercontent.com/lcsfilho/Introducao_R/master/Curso%20R/bd/escolas.txt",
           sep="|", dec=",")
```
---
## Importando dados no R

O pacote `foreign`, também presente na distribuição base do `R`, possui diversas funções de importação. Para isso, basta carregar o pacote:



```r
library(foreign)
```

Algumas funções para importação de dados no `R`:

.left-column[
- read.dbf()

- read.epiinfo()

- read.mtp()

- read.S()

- read.spss()

- read.dta()

- read.xport()
]


.right-column[

para arquivos DBASE

para arquivos do Epi Info

para arquivos do Minitab

para arquivos do S-Plus

para dados do SPSS

para dados do Stata

para dados do SAS

]

---
## Importando dados no R
Se o arquivo `.sav` está na sua pasta de trabalho:


```r
read.spss("escolas.sav")
```

Caso contrário, localize o arquivo com a função:


```r
file.chose()
```

O `R` retorna o caminho para o arquivo, por exemplo:


```r
"F:\\Curso de R\\Introducao_R\\Curso R\\bd\\escolas.sav"
```

Então, use (com `to.data.frame = TRUE` para retornar um `data frame`)


```r
dados.escola = read.spss("F:\\Curso de R\\Introducao_R\\Curso R\\bd\\escolas.sav", to.data.frame = TRUE)
```

Assim, criamos uma variável chamada `dados.escola`, que recebe o banco de banco de dados `escola.sav`

---
## Importando dados no R

Para inspecionar a estrutura do conjunto de dados, use:

```r
str(dados.escola)
```

```
## 'data.frame':	62 obs. of  166 variables:
##  $ NU_ANO_CENSO                 : num  2015 2015 2015 2015 2015 ...
##  $ CO_ENTIDADE                  : num  12133221 12132225 12131229 12130222 12129224 ...
##  $ NO_ENTIDADE                  : chr  "ESC ESTELA PEREIRA DOS SANTOS               " "ESC QUINTAIS FLORESTAIS                     " "ESC INDIGENA SHANENAWA                      " "ESC INDIGENA PEKURUNI SHANENAWA             " ...
##  $ CO_ORGAO_REGIONAL            : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ TP_SITUACAO_FUNCIONAMENTO    : num  1 4 1 1 1 1 4 2 2 2 ...
##  $ DT_ANO_LETIVO_INICIO         : chr  "23/03/2015" "          " "02/04/2015" "02/04/2015" ...
##  $ DT_ANO_LETIVO_TERMINO        : chr  "18/12/2015" "          " "31/12/2015" "31/12/2015" ...
##  $ CO_REGIAO                    : num  1 1 1 1 1 1 1 1 1 1 ...
##  $ CO_MESORREGIAO               : num  1202 1202 1201 1201 1202 ...
##  $ CO_MICRORREGIAO              : num  12005 12005 12002 12002 12003 ...
##  $ CO_UF                        : num  12 12 12 12 12 12 12 12 12 12 ...
##  $ CO_MUNICIPIO                 : num  1200252 1200252 1200302 1200302 1200344 ...
##  $ CO_DISTRITO                  : num  1.2e+08 1.2e+08 1.2e+08 1.2e+08 1.2e+08 ...
##  $ TP_DEPENDENCIA               : num  3 3 2 2 3 2 2 3 2 2 ...
##  $ TP_LOCALIZACAO               : num  2 2 2 2 1 2 2 2 2 2 ...
##  $ TP_CATEGORIA_ESCOLA_PRIVADA  : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ IN_CONVENIADA_PP             : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ TP_CONVENIO_PODER_PUBLICO    : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ IN_MANT_ESCOLA_PRIVADA_EMP   : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ IN_MANT_ESCOLA_PRIVADA_ONG   : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ IN_MANT_ESCOLA_PRIVADA_SIND  : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ IN_MANT_ESCOLA_PRIVADA_SIST_S: num  NA NA NA NA NA NA NA NA NA NA ...
##  $ IN_MANT_ESCOLA_PRIVADA_S_FINS: num  NA NA NA NA NA NA NA NA NA NA ...
##  $ CO_ESCOLA_SEDE_VINCULADA     : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ CO_IES_OFERTANTE             : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ TP_REGULAMENTACAO            : num  2 NA 2 2 2 2 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_PREDIO_ESCOLAR : num  1 NA 1 1 1 1 NA NA NA NA ...
##  $ TP_OCUPACAO_PREDIO_ESCOLAR   : num  1 NA 1 1 1 1 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_SALAS_EMPRESA  : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_SOCIOEDUCATIVO : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_UNID_PRISIONAL : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_PRISIONAL_SOCIO: num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_TEMPLO_IGREJA  : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_CASA_PROFESSOR : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_GALPAO         : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ TP_OCUPACAO_GALPAO           : num  NA NA NA NA NA NA NA NA NA NA ...
##  $ IN_LOCAL_FUNC_SALAS_OUTRA_ESC: num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LOCAL_FUNC_OUTROS         : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_PREDIO_COMPARTILHADO      : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_AGUA_FILTRADA             : num  1 NA 1 1 1 1 NA NA NA NA ...
##  $ IN_AGUA_REDE_PUBLICA         : num  0 NA 0 0 1 0 NA NA NA NA ...
##  $ IN_AGUA_POCO_ARTESIANO       : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_AGUA_CACIMBA              : num  0 NA 1 0 0 1 NA NA NA NA ...
##  $ IN_AGUA_FONTE_RIO            : num  0 NA 0 1 0 0 NA NA NA NA ...
##  $ IN_AGUA_INEXISTENTE          : num  1 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_ENERGIA_REDE_PUBLICA      : num  1 NA 1 0 1 1 NA NA NA NA ...
##  $ IN_ENERGIA_GERADOR           : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_ENERGIA_OUTROS            : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_ENERGIA_INEXISTENTE       : num  0 NA 0 1 0 0 NA NA NA NA ...
##  $ IN_ESGOTO_REDE_PUBLICA       : num  0 NA 0 0 1 0 NA NA NA NA ...
##  $ IN_ESGOTO_FOSSA              : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_ESGOTO_INEXISTENTE        : num  1 NA 1 1 0 0 NA NA NA NA ...
##  $ IN_LIXO_COLETA_PERIODICA     : num  1 NA 0 0 1 1 NA NA NA NA ...
##  $ IN_LIXO_QUEIMA               : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_LIXO_JOGA_OUTRA_AREA      : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LIXO_RECICLA              : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LIXO_ENTERRA              : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LIXO_OUTROS               : num  0 NA 1 1 0 0 NA NA NA NA ...
##  $ IN_SALA_DIRETORIA            : num  0 NA 0 0 1 1 NA NA NA NA ...
##  $ IN_SALA_PROFESSOR            : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_LABORATORIO_INFORMATICA   : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_LABORATORIO_CIENCIAS      : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_SALA_ATENDIMENTO_ESPECIAL : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_QUADRA_ESPORTES_COBERTA   : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_QUADRA_ESPORTES_DESCOBERTA: num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_QUADRA_ESPORTES           : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_COZINHA                   : num  1 NA 1 1 1 1 NA NA NA NA ...
##  $ IN_BIBLIOTECA                : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_SALA_LEITURA              : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_BIBLIOTECA_SALA_LEITURA   : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_PARQUE_INFANTIL           : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_BERCARIO                  : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_BANHEIRO_FORA_PREDIO      : num  1 NA 1 1 0 1 NA NA NA NA ...
##  $ IN_BANHEIRO_DENTRO_PREDIO    : num  0 NA 0 0 1 0 NA NA NA NA ...
##  $ IN_BANHEIRO_EI               : num  0 NA 0 0 1 0 NA NA NA NA ...
##  $ IN_BANHEIRO_PNE              : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_DEPENDENCIAS_PNE          : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_SECRETARIA                : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_BANHEIRO_CHUVEIRO         : num  0 NA 0 0 1 1 NA NA NA NA ...
##  $ IN_REFEITORIO                : num  0 NA 0 0 1 1 NA NA NA NA ...
##  $ IN_DESPENSA                  : num  0 NA 0 0 1 1 NA NA NA NA ...
##  $ IN_ALMOXARIFADO              : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_AUDITORIO                 : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_PATIO_COBERTO             : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_PATIO_DESCOBERTO          : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_ALOJAM_ALUNO              : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_ALOJAM_PROFESSOR          : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_AREA_VERDE                : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_LAVANDERIA                : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_DEPENDENCIAS_OUTRAS       : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ NU_SALAS_EXISTENTES          : num  2 NA 3 1 2 1 NA NA NA NA ...
##  $ NU_SALAS_UTILIZADAS          : num  2 NA 3 1 3 1 NA NA NA NA ...
##  $ IN_EQUIP_TV                  : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_EQUIP_VIDEOCASSETE        : num  0 NA 0 0 0 0 NA NA NA NA ...
##  $ IN_EQUIP_DVD                 : num  0 NA 0 0 1 1 NA NA NA NA ...
##  $ IN_EQUIP_PARABOLICA          : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_EQUIP_COPIADORA           : num  0 NA 0 0 1 0 NA NA NA NA ...
##  $ IN_EQUIP_RETROPROJETOR       : num  0 NA 0 0 0 1 NA NA NA NA ...
##  $ IN_EQUIP_IMPRESSORA          : num  0 NA 0 0 1 1 NA NA NA NA ...
##   [list output truncated]
##  - attr(*, "codepage")= int 65001
```
---
## Importando dados no R

Para visualizar todo o conjunto de dados, use:


```r
View(dados.escola)
```

Para visualizar as 6 primeiras linhas do conjunto de dados, use:

```r
head(dados.escola)
```

```
##   NU_ANO_CENSO CO_ENTIDADE                                  NO_ENTIDADE
## 1         2015    12133221 ESC ESTELA PEREIRA DOS SANTOS               
## 2         2015    12132225 ESC QUINTAIS FLORESTAIS                     
## 3         2015    12131229 ESC INDIGENA SHANENAWA                      
## 4         2015    12130222 ESC INDIGENA PEKURUNI SHANENAWA             
## 5         2015    12129224 ESC CRECHE IEDA ARAUJO                      
## 6         2015    12128236 ESC FAMILIA AGRICOLA JEAN PIERRE MINGAN     
##   CO_ORGAO_REGIONAL TP_SITUACAO_FUNCIONAMENTO DT_ANO_LETIVO_INICIO
## 1                NA                         1           23/03/2015
## 2                NA                         4                     
## 3                NA                         1           02/04/2015
## 4                NA                         1           02/04/2015
## 5                NA                         1           31/03/2015
## 6                NA                         1           18/05/2015
##   DT_ANO_LETIVO_TERMINO CO_REGIAO CO_MESORREGIAO CO_MICRORREGIAO CO_UF
## 1            18/12/2015         1           1202           12005    12
## 2                               1           1202           12005    12
## 3            31/12/2015         1           1201           12002    12
## 4            31/12/2015         1           1201           12002    12
## 5            29/01/2016         1           1202           12003    12
## 6            31/12/2015         1           1202           12004    12
##   CO_MUNICIPIO CO_DISTRITO TP_DEPENDENCIA TP_LOCALIZACAO
## 1      1200252   120025205              3              2
## 2      1200252   120025205              3              2
## 3      1200302   120030205              2              2
## 4      1200302   120030205              2              2
## 5      1200344   120034405              3              1
## 6      1200013   120001305              2              2
##   TP_CATEGORIA_ESCOLA_PRIVADA IN_CONVENIADA_PP TP_CONVENIO_PODER_PUBLICO
## 1                          NA               NA                        NA
## 2                          NA               NA                        NA
## 3                          NA               NA                        NA
## 4                          NA               NA                        NA
## 5                          NA               NA                        NA
## 6                          NA               NA                        NA
##   IN_MANT_ESCOLA_PRIVADA_EMP IN_MANT_ESCOLA_PRIVADA_ONG
## 1                         NA                         NA
## 2                         NA                         NA
## 3                         NA                         NA
## 4                         NA                         NA
## 5                         NA                         NA
## 6                         NA                         NA
##   IN_MANT_ESCOLA_PRIVADA_SIND IN_MANT_ESCOLA_PRIVADA_SIST_S
## 1                          NA                            NA
## 2                          NA                            NA
## 3                          NA                            NA
## 4                          NA                            NA
## 5                          NA                            NA
## 6                          NA                            NA
##   IN_MANT_ESCOLA_PRIVADA_S_FINS CO_ESCOLA_SEDE_VINCULADA CO_IES_OFERTANTE
## 1                            NA                       NA               NA
## 2                            NA                       NA               NA
## 3                            NA                       NA               NA
## 4                            NA                       NA               NA
## 5                            NA                       NA               NA
## 6                            NA                       NA               NA
##   TP_REGULAMENTACAO IN_LOCAL_FUNC_PREDIO_ESCOLAR TP_OCUPACAO_PREDIO_ESCOLAR
## 1                 2                            1                          1
## 2                NA                           NA                         NA
## 3                 2                            1                          1
## 4                 2                            1                          1
## 5                 2                            1                          1
## 6                 2                            1                          1
##   IN_LOCAL_FUNC_SALAS_EMPRESA IN_LOCAL_FUNC_SOCIOEDUCATIVO
## 1                           0                            0
## 2                          NA                           NA
## 3                           0                            0
## 4                           0                            0
## 5                           0                            0
## 6                           0                            0
##   IN_LOCAL_FUNC_UNID_PRISIONAL IN_LOCAL_FUNC_PRISIONAL_SOCIO
## 1                            0                             0
## 2                           NA                            NA
## 3                            0                             0
## 4                            0                             0
## 5                            0                             0
## 6                            0                             0
##   IN_LOCAL_FUNC_TEMPLO_IGREJA IN_LOCAL_FUNC_CASA_PROFESSOR IN_LOCAL_FUNC_GALPAO
## 1                           0                            0                    0
## 2                          NA                           NA                   NA
## 3                           0                            0                    0
## 4                           0                            0                    0
## 5                           0                            0                    0
## 6                           0                            0                    0
##   TP_OCUPACAO_GALPAO IN_LOCAL_FUNC_SALAS_OUTRA_ESC IN_LOCAL_FUNC_OUTROS
## 1                 NA                             0                    0
## 2                 NA                            NA                   NA
## 3                 NA                             0                    0
## 4                 NA                             0                    0
## 5                 NA                             0                    0
## 6                 NA                             0                    0
##   IN_PREDIO_COMPARTILHADO IN_AGUA_FILTRADA IN_AGUA_REDE_PUBLICA
## 1                       0                1                    0
## 2                      NA               NA                   NA
## 3                       0                1                    0
## 4                       0                1                    0
## 5                       0                1                    1
## 6                       0                1                    0
##   IN_AGUA_POCO_ARTESIANO IN_AGUA_CACIMBA IN_AGUA_FONTE_RIO IN_AGUA_INEXISTENTE
## 1                      0               0                 0                   1
## 2                     NA              NA                NA                  NA
## 3                      0               1                 0                   0
## 4                      0               0                 1                   0
## 5                      0               0                 0                   0
## 6                      0               1                 0                   0
##   IN_ENERGIA_REDE_PUBLICA IN_ENERGIA_GERADOR IN_ENERGIA_OUTROS
## 1                       1                  0                 0
## 2                      NA                 NA                NA
## 3                       1                  0                 0
## 4                       0                  0                 0
## 5                       1                  0                 0
## 6                       1                  0                 0
##   IN_ENERGIA_INEXISTENTE IN_ESGOTO_REDE_PUBLICA IN_ESGOTO_FOSSA
## 1                      0                      0               0
## 2                     NA                     NA              NA
## 3                      0                      0               0
## 4                      1                      0               0
## 5                      0                      1               0
## 6                      0                      0               1
##   IN_ESGOTO_INEXISTENTE IN_LIXO_COLETA_PERIODICA IN_LIXO_QUEIMA
## 1                     1                        1              0
## 2                    NA                       NA             NA
## 3                     1                        0              0
## 4                     1                        0              0
## 5                     0                        1              0
## 6                     0                        1              1
##   IN_LIXO_JOGA_OUTRA_AREA IN_LIXO_RECICLA IN_LIXO_ENTERRA IN_LIXO_OUTROS
## 1                       0               0               0              0
## 2                      NA              NA              NA             NA
## 3                       0               0               0              1
## 4                       0               0               0              1
## 5                       0               0               0              0
## 6                       0               0               0              0
##   IN_SALA_DIRETORIA IN_SALA_PROFESSOR IN_LABORATORIO_INFORMATICA
## 1                 0                 0                          0
## 2                NA                NA                         NA
## 3                 0                 0                          0
## 4                 0                 0                          0
## 5                 1                 0                          0
## 6                 1                 1                          0
##   IN_LABORATORIO_CIENCIAS IN_SALA_ATENDIMENTO_ESPECIAL
## 1                       0                            0
## 2                      NA                           NA
## 3                       0                            0
## 4                       0                            0
## 5                       0                            0
## 6                       0                            0
##   IN_QUADRA_ESPORTES_COBERTA IN_QUADRA_ESPORTES_DESCOBERTA IN_QUADRA_ESPORTES
## 1                          0                             0                  0
## 2                         NA                            NA                 NA
## 3                          0                             0                  0
## 4                          0                             0                  0
## 5                          0                             0                  0
## 6                          0                             0                  0
##   IN_COZINHA IN_BIBLIOTECA IN_SALA_LEITURA IN_BIBLIOTECA_SALA_LEITURA
## 1          1             0               0                          0
## 2         NA            NA              NA                         NA
## 3          1             0               0                          0
## 4          1             0               0                          0
## 5          1             0               0                          0
## 6          1             1               0                          1
##   IN_PARQUE_INFANTIL IN_BERCARIO IN_BANHEIRO_FORA_PREDIO
## 1                  0           0                       1
## 2                 NA          NA                      NA
## 3                  0           0                       1
## 4                  0           0                       1
## 5                  0           0                       0
## 6                  0           0                       1
##   IN_BANHEIRO_DENTRO_PREDIO IN_BANHEIRO_EI IN_BANHEIRO_PNE IN_DEPENDENCIAS_PNE
## 1                         0              0               0                   0
## 2                        NA             NA              NA                  NA
## 3                         0              0               0                   0
## 4                         0              0               0                   0
## 5                         1              1               0                   0
## 6                         0              0               0                   1
##   IN_SECRETARIA IN_BANHEIRO_CHUVEIRO IN_REFEITORIO IN_DESPENSA IN_ALMOXARIFADO
## 1             0                    0             0           0               0
## 2            NA                   NA            NA          NA              NA
## 3             0                    0             0           0               0
## 4             0                    0             0           0               0
## 5             0                    1             1           1               0
## 6             1                    1             1           1               0
##   IN_AUDITORIO IN_PATIO_COBERTO IN_PATIO_DESCOBERTO IN_ALOJAM_ALUNO
## 1            0                0                   0               0
## 2           NA               NA                  NA              NA
## 3            0                0                   0               0
## 4            0                0                   0               0
## 5            0                0                   0               0
## 6            0                0                   1               1
##   IN_ALOJAM_PROFESSOR IN_AREA_VERDE IN_LAVANDERIA IN_DEPENDENCIAS_OUTRAS
## 1                   0             0             0                      0
## 2                  NA            NA            NA                     NA
## 3                   0             0             0                      0
## 4                   0             0             0                      0
## 5                   0             0             0                      0
## 6                   1             1             1                      0
##   NU_SALAS_EXISTENTES NU_SALAS_UTILIZADAS IN_EQUIP_TV IN_EQUIP_VIDEOCASSETE
## 1                   2                   2           0                     0
## 2                  NA                  NA          NA                    NA
## 3                   3                   3           0                     0
## 4                   1                   1           0                     0
## 5                   2                   3           0                     0
## 6                   1                   1           1                     0
##   IN_EQUIP_DVD IN_EQUIP_PARABOLICA IN_EQUIP_COPIADORA IN_EQUIP_RETROPROJETOR
## 1            0                   0                  0                      0
## 2           NA                  NA                 NA                     NA
## 3            0                   0                  0                      0
## 4            0                   0                  0                      0
## 5            1                   0                  1                      0
## 6            1                   1                  0                      1
##   IN_EQUIP_IMPRESSORA IN_EQUIP_IMPRESSORA_MULT IN_EQUIP_SOM IN_EQUIP_MULTIMIDIA
## 1                   0                        0            0                   0
## 2                  NA                       NA           NA                  NA
## 3                   0                        0            0                   0
## 4                   0                        0            0                   0
## 5                   1                        0            1                   1
## 6                   1                        0            0                   1
##   IN_EQUIP_FAX IN_EQUIP_FOTO IN_COMPUTADOR NU_EQUIP_TV NU_EQUIP_VIDEOCASSETE
## 1            0             0             0           0                     0
## 2           NA            NA            NA          NA                    NA
## 3            0             0             0           0                     0
## 4            0             0             0           0                     0
## 5            0             1             1           0                     0
## 6            0             0             1           1                     0
##   NU_EQUIP_DVD NU_EQUIP_PARABOLICA NU_EQUIP_COPIADORA NU_EQUIP_RETROPROJETOR
## 1            0                   0                  0                      0
## 2           NA                  NA                 NA                     NA
## 3            0                   0                  0                      0
## 4            0                   0                  0                      0
## 5            2                   0                  1                      0
## 6            1                   1                  0                      1
##   NU_EQUIP_IMPRESSORA NU_EQUIP_IMPRESSORA_MULT NU_EQUIP_SOM NU_EQUIP_MULTIMIDIA
## 1                   0                        0            0                   0
## 2                  NA                       NA           NA                  NA
## 3                   0                        0            0                   0
## 4                   0                        0            0                   0
## 5                   1                        0            2                   1
## 6                   1                        0            0                   1
##   NU_EQUIP_FAX NU_EQUIP_FOTO NU_COMPUTADOR NU_COMP_ADMINISTRATIVO NU_COMP_ALUNO
## 1            0             0             0                      0             0
## 2           NA            NA            NA                     NA            NA
## 3            0             0             0                      0             0
## 4            0             0             0                      0             0
## 5            0             1             1                      1             0
## 6            0             0             1                      0             0
##   IN_INTERNET IN_BANDA_LARGA NU_FUNCIONARIOS IN_ALIMENTACAO TP_AEE
## 1           0              0               3              1      0
## 2          NA             NA              NA             NA     NA
## 3           0              0               7              1      0
## 4           0              0               4              1      0
## 5           1              1              21              1      0
## 6           0              0              10              1      0
##   TP_ATIVIDADE_COMPLEMENTAR IN_FUNDAMENTAL_CICLOS TP_LOCALIZACAO_DIFERENCIADA
## 1                         0                     0                           0
## 2                        NA                    NA                          NA
## 3                         0                     0                           2
## 4                         0                     0                           2
## 5                         0                    NA                           0
## 6                         0                    NA                           0
##   IN_MATERIAL_ESP_QUILOMBOLA IN_MATERIAL_ESP_INDIGENA
## 1                          0                        0
## 2                         NA                       NA
## 3                          0                        1
## 4                          0                        1
## 5                          0                        0
## 6                          0                        0
##   IN_MATERIAL_ESP_NAO_UTILIZA IN_EDUCACAO_INDIGENA TP_INDIGENA_LINGUA
## 1                           1                    0                 NA
## 2                          NA                   NA                 NA
## 3                           0                    1                  3
## 4                           0                    1                  3
## 5                           1                    0                 NA
## 6                           1                    0                 NA
##   CO_LINGUA_INDIGENA IN_BRASIL_ALFABETIZADO IN_FINAL_SEMANA
## 1                 NA                      0               0
## 2                 NA                     NA              NA
## 3                 78                      0               0
## 4                 78                      0               0
## 5                 NA                      0               1
## 6                 NA                      0               1
##   IN_FORMACAO_ALTERNANCIA IN_MEDIACAO_PRESENCIAL IN_MEDIACAO_SEMIPRESENCIAL
## 1                       0                      1                          0
## 2                      NA                     NA                         NA
## 3                       0                      1                          0
## 4                       0                      1                          0
## 5                       0                      1                          0
## 6                       1                      1                          0
##   IN_MEDIACAO_EAD IN_ESPECIAL_EXCLUSIVA IN_REGULAR IN_EJA IN_PROFISSIONALIZANTE
## 1               0                     0          1      0                     0
## 2              NA                    NA         NA     NA                    NA
## 3               0                     0          1      0                     0
## 4               0                     0          1      0                     0
## 5               0                     0          1      0                     0
## 6               0                     0          1      0                     1
##   IN_COMUM_CRECHE IN_COMUM_PRE IN_COMUM_FUND_AI IN_COMUM_FUND_AF
## 1               0            1                1                0
## 2              NA           NA               NA               NA
## 3               0            1                1                1
## 4               0            1                1                1
## 5               1            0                0                0
## 6               0            0                0                0
##   IN_COMUM_MEDIO_MEDIO IN_COMUM_MEDIO_INTEGRADO IN_COMUM_MEDIO_NORMAL
## 1                    0                        0                     0
## 2                   NA                       NA                    NA
## 3                    0                        0                     0
## 4                    0                        0                     0
## 5                    0                        0                     0
## 6                    0                        1                     0
##   IN_ESP_EXCLUSIVA_CRECHE IN_ESP_EXCLUSIVA_PRE IN_ESP_EXCLUSIVA_FUND_AI
## 1                       0                    0                        0
## 2                      NA                   NA                       NA
## 3                       0                    0                        0
## 4                       0                    0                        0
## 5                       0                    0                        0
## 6                       0                    0                        0
##   IN_ESP_EXCLUSIVA_FUND_AF IN_ESP_EXCLUSIVA_MEDIO_MEDIO
## 1                        0                            0
## 2                       NA                           NA
## 3                        0                            0
## 4                        0                            0
## 5                        0                            0
## 6                        0                            0
##   IN_ESP_EXCLUSIVA_MEDIO_INTEGR IN_ESP_EXCLUSIVA_MEDIO_NORMAL IN_COMUM_EJA_FUND
## 1                             0                             0                 0
## 2                            NA                            NA                NA
## 3                             0                             0                 0
## 4                             0                             0                 0
## 5                             0                             0                 0
## 6                             0                             0                 0
##   IN_COMUM_EJA_MEDIO IN_COMUM_EJA_PROF IN_ESP_EXCLUSIVA_EJA_FUND
## 1                  0                 0                         0
## 2                 NA                NA                        NA
## 3                  0                 0                         0
## 4                  0                 0                         0
## 5                  0                 0                         0
## 6                  0                 0                         0
##   IN_ESP_EXCLUSIVA_EJA_MEDIO IN_ESP_EXCLUSIVA_EJA_PROF IN_COMUM_PROF
## 1                          0                         0             0
## 2                         NA                        NA            NA
## 3                          0                         0             0
## 4                          0                         0             0
## 5                          0                         0             0
## 6                          0                         0             0
##   IN_ESP_EXCLUSIVA_PROF
## 1                     0
## 2                    NA
## 3                     0
## 4                     0
## 5                     0
## 6                     0
```
---

## Importando dados no R

Vamos importar dados utilizando pacotes do `tidyverse`. Iniciaremos com o pacote `readr`, que importa arquivos de texto, como `.txt` ou `.csv`. O `readr` transforma arquivos de texto em `tibbles`&lt;sup&gt;[1]&lt;/sup&gt;, usando as funções:

.left-column[

- read_csv()

- read_csv2()

- read_tsv()

- read_delim()

- read_table()

- read_fwf()

- read_log()

]

.right-column[

lê arquivos delimitados por vírgulas

lê arquivos separados por ponto e vírgula

lê arquivos separados por tabulações

lê arquivos separados por qualquer delimitador

lê arquivos de largura fixa, com colunas separadas por espaço

lê arquivos de largura fixa, onde os campos são especificados por suas larguras

lê arquivos padrões log (estilo `Apache`)

  
&lt;div style="text-align:right"&gt; &lt;a name=cite-RDataScience&gt;&lt;/a&gt;[Wickham and Grolemund (2019)](#bib-RDataScience) &lt;/div&gt;&lt;br&gt;
]



.footnote[
[1] Tibbles são `data frames` com ajustes em comportamentos antigos, que as deixam mais amigáveis aos cientistas de dados.
]
---
## Importando dados no R

Como exemplo, vamos importar os dados de despesas municipais com educação e saúde, no formato csv. O banco de dados será atribuído a uma variável chamada `desp_csv` 


```r
desp_csv = read_csv("F:\\Curso de R\\Introducao_R\\Curso R\\bd\\despesas_municipios_saude_educacao.csv")
```

```
## Rows: 54097 Columns: 15
## ── Column specification ────────────────────────────────────────────────────────
## Delimiter: ","
## chr  (9): IN_PERIODICIDADE, CO_ESFERA, CO_PODER, NO_ENTE, SG_ENTE, fase_desp...
## dbl  (5): AN_EXERCICIO, NR_PERIODO, ID_ENTE, VALUE, QT_HABITANTE
## dttm (1): DT_STATUS_COLETA
## 
## ℹ Use `spec()` to retrieve the full column specification for this data.
## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.
```
---
## Importando dados no R

Visualize o banco pelo `Console`, executando a variável `desp_csv` ou clique no objeto `desp_csv`, em `Enviroment`, para abrir o banco em outra aba do `R`

```r
desp_csv
```

```
## # A tibble: 54,097 × 15
##    AN_EXERCICIO NR_PER…¹ IN_PE…² CO_ES…³ CO_PO…⁴ ID_ENTE NO_ENTE SG_ENTE fase_…⁵
##           &lt;dbl&gt;    &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;chr&gt;  
##  1         2019        2 B       M       E       4206603 Guaruj… SC      DESPES…
##  2         2019        1 B       M       E       2411908 São Fr… RN      DESPES…
##  3         2019        4 B       M       E       4211454 Nova I… SC      DESPES…
##  4         2019        1 B       M       E       4210704 Matos … SC      DESPES…
##  5         2019        1 B       M       E       3112109 Caparaó MG      DESPES…
##  6         2019        2 B       M       E       3514205 Dolcin… SP      DESPES…
##  7         2019        4 B       M       E       3520608 Indiana SP      DESPES…
##  8         2019        1 B       M       E       2503407 Cacimb… PB      DESPES…
##  9         2019        1 B       M       E       4202875 Brunóp… SC      DESPES…
## 10         2019        1 B       M       E       3551306 Sebast… SP      DESPES…
## # … with 54,087 more rows, 6 more variables: funcao &lt;chr&gt;, VALUE &lt;dbl&gt;,
## #   QT_HABITANTE &lt;dbl&gt;, ELEMENTLABEL &lt;chr&gt;, DT_STATUS_COLETA &lt;dttm&gt;,
## #   dh_consulta &lt;chr&gt;, and abbreviated variable names ¹​NR_PERIODO,
## #   ²​IN_PERIODICIDADE, ³​CO_ESFERA, ⁴​CO_PODER, ⁵​fase_despesa
```
---
## Importando dados no R
Vamos importar um banco de dados em Excel pelo pacote `readxl`. A variável `dados.escola_xlsx` receberá o banco `escolas.xlsx`:


```r
dados.escola_xlsx = read_excel("F:\\Curso de R\\Introducao_R\\Curso R\\bd\\escolas.xlsx")
dados.escola_xlsx
```

```
## # A tibble: 62 × 166
##    NU_ANO_CENSO CO_ENTIDADE NO_ENTIDADE      CO_OR…¹ TP_SI…² DT_ANO_LETIVO_INI…³
##           &lt;dbl&gt;       &lt;dbl&gt; &lt;chr&gt;            &lt;lgl&gt;     &lt;dbl&gt; &lt;dttm&gt;             
##  1         2015    12133221 ESC ESTELA PERE… NA            1 2015-03-23 00:00:00
##  2         2015    12132225 ESC QUINTAIS FL… NA            4 NA                 
##  3         2015    12131229 ESC INDIGENA SH… NA            1 2015-04-02 00:00:00
##  4         2015    12130222 ESC INDIGENA PE… NA            1 2015-04-02 00:00:00
##  5         2015    12129224 ESC CRECHE IEDA… NA            1 2015-03-31 00:00:00
##  6         2015    12128236 ESC FAMILIA AGR… NA            1 2015-05-18 00:00:00
##  7         2015    12127221 MAL COSTA E SIL… NA            4 NA                 
##  8         2015    12125229 ESC ESPERANCA    NA            2 NA                 
##  9         2015    12124222 ESC CENTRO RURA… NA            2 NA                 
## 10         2015    12123226 ESC CENTRO RURA… NA            2 NA                 
## # … with 52 more rows, 160 more variables: DT_ANO_LETIVO_TERMINO &lt;dttm&gt;,
## #   CO_REGIAO &lt;dbl&gt;, CO_MESORREGIAO &lt;dbl&gt;, CO_MICRORREGIAO &lt;dbl&gt;, CO_UF &lt;dbl&gt;,
## #   CO_MUNICIPIO &lt;dbl&gt;, CO_DISTRITO &lt;dbl&gt;, TP_DEPENDENCIA &lt;dbl&gt;,
## #   TP_LOCALIZACAO &lt;dbl&gt;, TP_CATEGORIA_ESCOLA_PRIVADA &lt;lgl&gt;,
## #   IN_CONVENIADA_PP &lt;lgl&gt;, TP_CONVENIO_PODER_PUBLICO &lt;lgl&gt;,
## #   IN_MANT_ESCOLA_PRIVADA_EMP &lt;lgl&gt;, IN_MANT_ESCOLA_PRIVADA_ONG &lt;lgl&gt;,
## #   IN_MANT_ESCOLA_PRIVADA_SIND &lt;lgl&gt;, IN_MANT_ESCOLA_PRIVADA_SIST_S &lt;lgl&gt;, …
```

---
# Referências

&lt;a name=bib-CursoR&gt;&lt;/a&gt;[curso-r](#cite-CursoR) (2022). _RStudio_.
[Online; acesso em 31-Novembro-2022]. URL:
[https://livro.curso-r.com](https://livro.curso-r.com).

&lt;a name=bib-lingR&gt;&lt;/a&gt;[INE/UFSC](#cite-lingR) (2013). _Linguagem R:
R-Gui e R-Commander_. Universidade Federal de Santana Catarina - UFSC.

&lt;a name=bib-andreluis&gt;&lt;/a&gt;[Maia, A. L. S.](#cite-andreluis) (2016).
_Métodos Computacionais em Estatística no R_. Unijorge – Centro
Universitário Jorge Amado. Boston, MA.

&lt;a name=bib-RDataScience&gt;&lt;/a&gt;[Wickham, H. and G.
Grolemund](#cite-RDataScience) (2019). _R para Data Science_. Rio de
Janeiro: Alta Books.

&lt;a name=bib-RStudio&gt;&lt;/a&gt;[Wikipédia](#cite-RStudio) (2017). _RStudio_.
[Online; acesso em 28-Novembro-2022]. URL:
[https://pt.wikipedia.org/wiki/RStudio](https://pt.wikipedia.org/wiki/RStudio).
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"slideNumberFormat": "%current%",
"highlightStyle": "github",
"highlightLines": true,
"ratio": "16:9",
"countIncrementalSlides": true
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
